// 方案一 px 转 em
@function px2em($px, $base-font-size: 75px) {
    @if (unitless($px)) {
      @warn "Assuming #{$px} to be in pixels, attempting to convert it into pixels for you";
      @return px2em($px + 0px); // That may fail.
    } @else if (unit($px) == em) {
      @return $px;
    }
    @return ($px / $base-font-size) * 1em;
  }
// 方案一， px 转 rem
@function pxToRem($args...) {
    $list: ();
    // 每个都这么改写。
    @each $px in $args {
        // 判断是否带单位，不带单位 true， 带单位 false
      @if unitless($px) {
          // 不带单位 带上单位px
        $px: $px * 1px
      }
      $list: append($list, $px / 37.5px * 1rem);
    }
    @return $list;
  }
  
// 方案二
  @mixin px2rem($property,$px-values,$baseline-px:75px,$support-for-ie:false){
    //Conver the baseline into rems
    $baseline-rem: $baseline-px / 1rem * 1;
    //打印出第一行的像素值
    @if $support-for-ie {
      #{$property}: $px-values;
    }
    //if there is only one (numeric) value, return the property/value line for it.
    @if type-of($px-values) == "number"{
      #{$property}: $px-values / $baseline-rem;
    }
    @else {
      //Create an empty list that we can dump values into
      $rem-values:();
      @each $value in $px-values{
        // If the value is zero or not a number, return it
        @if $value == 0 or type-of($value) != "number"{
          $rem-values: append($rem-values, $value / $baseline-rem);
        }
      }
      // Return the property and its list of converted values
      #{$property}: $rem-values;
    }
  }

// 混合宏 @include font-dpr(16px);
@mixin font-dpr($font-size){
    font-size: $font-size;
 
    [data-dpr="2"] & {
        font-size: $font-size * 2;
    }
 
    [data-dpr="3"] & {
        font-size: $font-size * 3;
    }
}
@include font-dpr(16px);

// 例如
//定义一个mixin 根据不同dpr将px值转化成相应的dpr的px值。
/*
  @params $name 是css属性 比如width,top,font-size等
  @params $px 像素值
*/
@mixin px2px($name,$px){
    #{$name}:round($px/2)*1px;
    [data-dpr='2']&{
      #{$name}:$px*1px;
    }
    // for mx3
    [data-dpr="2.5"] & {
        #{$name}: round($px * 2.5 / 2) * 1px;
    }
    // for 小米note
    [data-dpr="2.75"] & {
        #{$name}: round($px * 2.75 / 2) * 1px;
    }
    [data-dpr="3"] & {
        #{$name}: round($px / 2 * 3) * 1px
    }
    // for 三星note4
    [data-dpr="4"] & {
        #{$name}: $px * 2px;
    }
}
// <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
// <meta name="viewport" content="width=device-width, user-scalable=no">
// <meta content="maximum-dpr=2" name="flexible" />